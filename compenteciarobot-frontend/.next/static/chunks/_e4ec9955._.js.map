{
  "version": 3,
  "sources": [],
  "sections": [
    {"offset": {"line": 7, "column": 0}, "map": {"version":3,"sources":["file:///D:/pasanriasAGETIC/compenteciarobot-frontend/src/context/AuthContext.tsx"],"sourcesContent":["// src/context/AuthContext.tsx\r\n'use client';\r\n\r\nimport { createContext, useContext, useState, ReactNode, useEffect } from 'react';\r\nimport { useRouter } from 'next/navigation';\r\n\r\ntype UserRole = 'admin' | 'juez' | 'visor' | null;\r\n\r\ninterface AuthContextType {\r\n  user: { role: UserRole } | null;\r\n  login: (role: UserRole) => void;\r\n  logout: () => void;\r\n}\r\n\r\nconst AuthContext = createContext<AuthContextType | null>(null);\r\n\r\nexport const AuthProvider = ({ children }: { children: ReactNode }) => {\r\n  const [user, setUser] = useState<{ role: UserRole } | null>(null);\r\n  const router = useRouter();\r\n\r\n  useEffect(() => {\r\n    const savedUser = localStorage.getItem('userRole') as UserRole;\r\n    if (savedUser) {\r\n      setUser({ role: savedUser });\r\n    }\r\n  }, []);\r\n\r\n  const login = (role: UserRole) => {\r\n    if (!role) return;\r\n    setUser({ role });\r\n    localStorage.setItem('userRole', role);\r\n    router.push('/dashboard');\r\n  };\r\n\r\n  const logout = () => {\r\n    setUser(null);\r\n    localStorage.removeItem('userRole');\r\n    router.push('/');\r\n  };\r\n\r\n  return (\r\n    <AuthContext.Provider value={{ user, login, logout }}>\r\n      {children}\r\n    </AuthContext.Provider>\r\n  );\r\n};\r\n\r\nexport const useAuth = () => {\r\n  const context = useContext(AuthContext);\r\n  if (!context) {\r\n    throw new Error('useAuth must be used within an AuthProvider');\r\n  }\r\n  return context;\r\n};"],"names":[],"mappings":"AAAA,8BAA8B;;;;;;AAG9B;AACA;;;AAHA;;;AAaA,MAAM,4BAAc,CAAA,GAAA,6JAAA,CAAA,gBAAa,AAAD,EAA0B;AAEnD,MAAM,eAAe,CAAC,EAAE,QAAQ,EAA2B;;IAChE,MAAM,CAAC,MAAM,QAAQ,GAAG,CAAA,GAAA,6JAAA,CAAA,WAAQ,AAAD,EAA6B;IAC5D,MAAM,SAAS,CAAA,GAAA,qIAAA,CAAA,YAAS,AAAD;IAEvB,CAAA,GAAA,6JAAA,CAAA,YAAS,AAAD;kCAAE;YACR,MAAM,YAAY,aAAa,OAAO,CAAC;YACvC,IAAI,WAAW;gBACb,QAAQ;oBAAE,MAAM;gBAAU;YAC5B;QACF;iCAAG,EAAE;IAEL,MAAM,QAAQ,CAAC;QACb,IAAI,CAAC,MAAM;QACX,QAAQ;YAAE;QAAK;QACf,aAAa,OAAO,CAAC,YAAY;QACjC,OAAO,IAAI,CAAC;IACd;IAEA,MAAM,SAAS;QACb,QAAQ;QACR,aAAa,UAAU,CAAC;QACxB,OAAO,IAAI,CAAC;IACd;IAEA,qBACE,6LAAC,YAAY,QAAQ;QAAC,OAAO;YAAE;YAAM;YAAO;QAAO;kBAChD;;;;;;AAGP;GA7Ba;;QAEI,qIAAA,CAAA,YAAS;;;KAFb;AA+BN,MAAM,UAAU;;IACrB,MAAM,UAAU,CAAA,GAAA,6JAAA,CAAA,aAAU,AAAD,EAAE;IAC3B,IAAI,CAAC,SAAS;QACZ,MAAM,IAAI,MAAM;IAClB;IACA,OAAO;AACT;IANa","debugId":null}},
    {"offset": {"line": 87, "column": 0}, "map": {"version":3,"sources":["file:///D:/pasanriasAGETIC/compenteciarobot-frontend/src/app/dashboard/layout.tsx"],"sourcesContent":["'use client';\r\n\r\nimport AppBarWithDrawer from '@/components/Drawer';\r\nimport { useAuth } from '@/context/AuthContext';\r\nimport { useRouter } from 'next/navigation';\r\nimport { useEffect } from 'react';\r\nimport { Box, CircularProgress } from '@mui/material';\r\n\r\nexport default function DashboardLayout({ \r\n  children \r\n}: { \r\n  children: React.ReactNode \r\n}) {\r\n  const { user } = useAuth();\r\n  const router = useRouter();\r\n\r\n  useEffect(() => {\r\n    if (!user) {\r\n      router.push('/login');\r\n    }\r\n  }, [user, router]);\r\n\r\n  if (!user) {\r\n    return (\r\n      <Box sx={{ \r\n        display: 'flex', \r\n        justifyContent: 'center', \r\n        alignItems: 'center', \r\n        height: '100vh' \r\n      }}>\r\n        <CircularProgress />\r\n      </Box>\r\n    );\r\n  }\r\n\r\n  return (\r\n    <AppBarWithDrawer>\r\n      {children} {/* Pasa los children al Drawer */}\r\n    </AppBarWithDrawer>\r\n  );\r\n}"],"names":[],"mappings":";;;;AAEA;AACA;AACA;AACA;AACA;AAAA;;;AANA;;;;;;AAQe,SAAS,gBAAgB,EACtC,QAAQ,EAGT;;IACC,MAAM,EAAE,IAAI,EAAE,GAAG,CAAA,GAAA,iIAAA,CAAA,UAAO,AAAD;IACvB,MAAM,SAAS,CAAA,GAAA,qIAAA,CAAA,YAAS,AAAD;IAEvB,CAAA,GAAA,6JAAA,CAAA,YAAS,AAAD;qCAAE;YACR,IAAI,CAAC,MAAM;gBACT,OAAO,IAAI,CAAC;YACd;QACF;oCAAG;QAAC;QAAM;KAAO;IAEjB,IAAI,CAAC,MAAM;QACT,qBACE,6LAAC,2LAAA,CAAA,MAAG;YAAC,IAAI;gBACP,SAAS;gBACT,gBAAgB;gBAChB,YAAY;gBACZ,QAAQ;YACV;sBACE,cAAA,6LAAC,kOAAA,CAAA,mBAAgB;;;;;;;;;;IAGvB;IAEA,qBACE,6LAAC,+HAAA,CAAA,UAAgB;;YACd;YAAS;;;;;;;AAGhB;GAhCwB;;QAKL,iIAAA,CAAA,UAAO;QACT,qIAAA,CAAA,YAAS;;;KANF","debugId":null}},
    {"offset": {"line": 166, "column": 0}, "map": {"version":3,"sources":["file:///D:/pasanriasAGETIC/compenteciarobot-frontend/node_modules/next/navigation.js"],"sourcesContent":["module.exports = require('./dist/client/components/navigation')\n"],"names":[],"mappings":"AAAA,OAAO,OAAO","ignoreList":[0],"debugId":null}}]
}